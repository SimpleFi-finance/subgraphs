specVersion: 0.0.2
description: SushiSwap farms subgraph - MasterChefV2
schema:
  file: ./schema.graphql

dataSources:
  # Controls pools (farms) and SUSHI issuance
  - name: MasterChefV2
    kind: ethereum/contract
    network: mainnet
    source:
      abi: MasterChefV2
      address: "0xef0881ec094552b2e128cf945ef17a6752b4ec5d"
      startBlock: 12428169
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/mappings/mappings.ts
      abis:
        - name: MasterChefV2
          file: ./abis/MasterChefV2.json
        - name: IERC20
          file: ./abis/IERC20.json
      entities:
        - MasterChefV2
        - Block
        - Account
        - Token
        - Market
        - Transaction
        - Transfer
        - Position
        - PositionSnapshot
      eventHandlers:
        # - event: Deposit(indexed address,indexed uint256,uint256,indexed address)
        #   handler: deposit
        # - event: Withdraw(indexed address,indexed uint256,uint256,indexed address)
        #   handler: withdraw
        # - event: EmergencyWithdraw(indexed address,indexed uint256,uint256,indexed address)
        #   handler: emergencyWithdraw
        # - event: Harvest(indexed address,indexed uint256,uint256)
        #   handler: harvest
        - event: LogPoolAddition(indexed uint256,uint256,indexed address,indexed address)
          handler: handleLogPoolAddition
        # - event: LogSetPool(indexed uint256,uint256,indexed address,bool)
        #   handler: logSetPool
        # - event: LogUpdatePool(indexed uint256,uint64,uint256,uint256)
        #   handler: logUpdatePool
